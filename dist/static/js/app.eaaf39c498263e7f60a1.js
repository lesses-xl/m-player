webpackJsonp([1],{11:function(t,e,s){function i(t){s(33)}var a=s(9)(s(30),s(38),i,null,null);t.exports=a.exports},3:function(t,e,s){function i(t){s(34)}var a=s(9)(s(31),s(39),i,null,null);t.exports=a.exports},30:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(3),a=s.n(i);e.default={components:{vuemusic:a.a},data:function(){return{}},methods:{},mounted:function(){}}},31:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(2),a=s.n(i);e.default={components:{},data:function(){return{musicData:[],ifPlay:!0,planScales:0,musicLeft:0,curTime:0,ifHeader:0,audioUrl:null,lrcTime:{},lrcSecond:0}},methods:{getMusicData:function(){var t=this;a.a.get("http://lesses.me/music/static/music.json").then(function(e){t.musicData=e.data},function(t){console.log("失败")})},playMusic:function(){var t=this;t.ifPlay?(t.$refs.audio.play(),t.ifPlay=!1,document.getElementById("play").style.display="none",document.getElementById("pause").style.display="block"):(t.$refs.audio.pause(),t.ifPlay=!0,document.getElementById("play").style.display="block",document.getElementById("pause").style.display="none")},planClick:function(t){var e=document.getElementById("audio"),s=document.getElementsByClassName("music-drag")[0],i=document.getElementsByClassName("music-bar")[0],a=document.getElementsByClassName("music-plan")[0],n=(document.getElementsByClassName("music-show")[0],document.getElementsByClassName("music-wrap")[0]);this.musicLeft=t.clientX-n.offsetLeft-i.offsetLeft,this.planScales=this.musicLeft/i.offsetWidth,s.style.left=this.musicLeft+"px",a.style.width=i.offsetWidth*this.planScales+"px",e.currentTime=e.duration*this.planScales,this.ifPlay=!0,this.playMusic(),this.curTime=Math.round(e.currentTime)},planDrag:function(){var t=document.getElementById("audio"),e=document.getElementsByClassName("music-drag")[0],s=document.getElementsByClassName("music-bar")[0],i=document.getElementsByClassName("music-plan")[0],a=(document.getElementsByClassName("music-show")[0],document.getElementsByClassName("music-wrap")[0]);this.ifPlay=!1,this.playMusic();var n=this;document.onmousemove=function(t){n.musicLeft=t.clientX-s.offsetLeft-a.offsetLeft-e.offsetWidth/2,n.musicLeft<=0&&(n.musicLeft=0),n.musicLeft>=s.offsetWidth&&(n.musicLeft=s.offsetWidth),n.planScales=n.musicLeft/s.offsetWidth,e.style.left=n.musicLeft+"px",i.style.width=s.offsetWidth*n.planScales+"px"},document.onmouseup=function(){n.planScales=e.offsetLeft/s.offsetWidth,t.currentTime=t.duration*n.planScales,n.ifPlay=!0,n.playMusic(),document.onmousemove=null,document.onmousedown=null,document.onmouseup=null,n.curTime=Math.round(t.currentTime.toFixed(1))}},firstGet:function(){var t=Math.round(Math.random()*this.musicData.length);this.$refs.audio.src=this.musicData[t].url,this.$refs.showname.innerHTML=this.musicData[t].name+" - "+this.musicData[t].singer;var e=this;this.$refs.audio.addEventListener("canplaythrough",function(){e.timeActive(),e.$refs.audio.volume=.8})},timeActive:function(){var t=this.$refs.audio.duration-this.$refs.audio.currentTime,e=parseInt(t%60),s=parseInt(t/60);e<=9&&(e="0"+e),s<=9&&(s="0"+s),this.$refs.alltime.innerHTML=s+":"+e},getMusicTime:function(){var t=document.getElementById("audio"),e=document.getElementsByClassName("music-drag")[0],s=document.getElementsByClassName("music-bar")[0],i=document.getElementsByClassName("music-plan")[0],a=this;t.addEventListener("timeupdate",function(){a.curTime=Math.round(t.currentTime),a.planScales=t.currentTime/t.duration,i.style.width=s.offsetWidth*a.planScales+"px",e.style.left=s.offsetWidth*a.planScales+"px",a.timeActive(),t.ended&&(a.ifPlay=!0,document.getElementById("play").style.display="block",document.getElementById("pause").style.display="none")})},playClick:function(){this.playMusic(),document.getElementById("play").style.display="none",document.getElementById("pause").style.display="block"},pauseClick:function(){this.playMusic(),document.getElementById("play").style.display="block",document.getElementById("pause").style.display="none"}},mounted:function(){this.getMusicData(),this.timeActive(),this.getMusicTime()},watch:{musicData:function(t,e){this.firstGet()}}}},32:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(12),a=s(11),n=s.n(a),c=s(2),u=s.n(c),l=s(10),o=s.n(l),m=s(3);s.n(m);i.a.config.productionTip=!1,i.a.use(o.a,u.a),new i.a({el:"#app",template:"<App/>",components:{App:n.a}})},33:function(t,e){},34:function(t,e){},37:function(t,e,s){t.exports=s.p+"static/img/music.ec5ead6.png"},38:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("vuemusic")],1)},staticRenderFns:[]}},39:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"music"},[i("audio",{ref:"audio",attrs:{id:"audio",crossOrigin:"anonymous",dataNum:"0"}}),t._v(" "),i("div",{staticClass:"music-png"},[i("div",{staticClass:"m-play",attrs:{id:"play"},on:{click:t.playClick}}),t._v(" "),i("div",{staticClass:"m-pause",staticStyle:{display:"none"},attrs:{id:"pause"},on:{click:t.pauseClick}}),t._v(" "),i("img",{attrs:{src:s(37)}})]),t._v(" "),i("div",{staticClass:"music-wrap"},[i("div",{staticClass:"music-show"},[i("img",{staticClass:"ico",attrs:{src:"http://lesses.me/my/beta1/moon.ico"}}),t._v(" "),i("div",{staticClass:"music-name"},[i("div",{ref:"showname",staticClass:"music-show-name"})]),t._v(" "),i("div",{staticClass:"music-bar",on:{click:t.planClick}},[i("div",{staticClass:"music-plan"}),t._v(" "),i("div",{staticClass:"music-drag",on:{mousedown:function(e){e.stopPropagation(),t.planDrag(e)}}})]),t._v(" "),i("div",{staticClass:"music-time"},[t._v("- "),i("span",{ref:"alltime",staticClass:"time-all"},[t._v("00:00")])])])])])},staticRenderFns:[]}}},[32]);
//# sourceMappingURL=app.eaaf39c498263e7f60a1.js.map